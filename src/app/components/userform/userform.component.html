  <div class="modal" style="display: block;" tabindex="-1">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{(user.id > 0)? 'Editar Usuario' : 'Agregar Usuario'}}</h5>
            </div>
            <div class="modal-body">
              <form (ngSubmit)="onSubmit(userForm)"  #userForm="ngForm">
                <div class="mb-3">
                  <label class="col-form-label">Nombre:</label>
                  <input placeholder="Nombre" name="name" [(ngModel)]="user.name" class="form-control" required #name="ngModel">
                  @if(name.invalid && (name.dirty || name.touched)){
                    @if(name.errors!['required']){
                      <div class="text-danger">
                        Nombre es requerido
                      </div>
                    }
                  }
                </div>
                <div class="mb-3">
                  <label class="col-form-label">Apellido:</label>
                  <input placeholder="Apellido" name="lastname" [(ngModel)]="user.lastName" class="form-control" required #lastname="ngModel">
                  @if(lastname.invalid && (lastname.dirty || lastname.touched)){
                    @if(lastname.errors!['required']){
                      <div class="text-danger">
                        Apellido es requerido
                      </div>
                    }
                  }
                </div>
                <div class="mb-3">
                  <label class="col-form-label">Email:</label>
                  <input type="email" placeholder="email@email.com" name="email" [(ngModel)]="user.email" class="form-control" required email #email="ngModel">
                  @if(email.invalid && (email.dirty || email.touched)){
                    @if(email.errors!['required']){
                      <div class="text-danger">
                        Email es requerido
                      </div>
                    }
                    @if(email.errors!['email']){
                      <div class="text-danger">
                        Email no tiene el formato correcto
                      </div>
                    }
                  }
                </div>
                <div class="mb-3">
                  <label class="col-form-label">Nombre Usuario:</label>
                  <input type="text" placeholder="Nombre De Usuario" name="username" [(ngModel)]="user.userName" class="form-control" required minlength="4" #username="ngModel">
                  @if(username.invalid && (username.dirty || username.touched)){
                    @if(username.errors!['required']){
                      <div class="text-danger">
                        Nombre de usuario es requerido
                      </div>
                    }
                    @if(username.errors!['minlength']){
                      <div class="text-danger">
                        Nombre de usuario debe tener minimo 4 caracteres
                      </div>
                    }
                  }
                </div>
                <div class="mb-3">
                  <label class="col-form-label">Contraseña:</label>
                  <input type="password" placeholder="Contraseña" name="password" [(ngModel)]="user.password" class="form-control" required minlength="6" #password="ngModel">
                  @if(password.invalid && (password.dirty || password.touched)){
                    @if(password.errors!['required']){
                      <div class="text-danger">
                        Password es requerido
                      </div>
                    }
                    @if(password.errors!['minlength']){
                      <div class="text-danger">
                        PAssword debe tener minimo 6 caracteres
                      </div>
                    }
                  }
                </div>
              </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="cerrarFormulario()">Cancelar</button>
                <button type="submit" class="btn btn-primary" (click)="onSubmit(userForm)" (click)="abrirAgregarUsuario()" [disabled]="userForm.invalid">{{(user.id > 0)? 'Actualizar' : 'Guardar'}}</button>
            </div>
        </div>
    </div>
  </div>
